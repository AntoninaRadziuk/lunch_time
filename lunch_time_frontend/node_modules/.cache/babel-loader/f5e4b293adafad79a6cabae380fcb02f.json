{"ast":null,"code":"var _jsxFileName = \"/Users/antonina/Files/INZYNIERKA/lunch_time_frontend/src/RestaurantUpdateDataPage/RestaurantUpdateData.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport styles from \"./RestaurantUpdateData.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { FormHelperText } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport UserContext from \"../userContext\";\nexport default function RestaurantUpdateData() {\n  const userContext = useContext(UserContext);\n  const [currentData, setCurrentData] = useState({});\n  const [errors, setErrors] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\n  const [restaurantName, setRestaurantName] = useState(\"\");\n  const [restaurantAddress, setRestaurantAddress] = useState(\"\");\n  const [lunchTimeStart, setLunchTimeStart] = useState(\"\");\n  const [lunchTimeEnd, setLunchTimeEnd] = useState(\"\");\n  const [soupPrice, setSoupPrice] = useState();\n  const [dishPrice, setDishPrice] = useState();\n  const [setPrice, setSetPrice] = useState();\n  const [setAndDrinkPrice, setSetAndDrinkPrice] = useState();\n  const [websiteAddress, setWebsiteAddress] = useState(\"\");\n  const history = useHistory();\n  useEffect(() => {\n    fetchRestaurantProfileUpdate();\n  }, []);\n\n  const fetchRestaurantProfileUpdate = () => {\n    fetch(\"http://localhost:4000/restaurant/startupdatedata\" + `?email=${userContext.user.email}`, {\n      method: \"GET\",\n      // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\",\n      cache: \"no-cache\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: userContext.user.token\n      }\n    }).then(response => {\n      console.log(response.status); // if (response.status === 201) {\n      // history.push(\"/restaurantprofile\");}\n\n      return response.json();\n    }).then(json => {\n      setCurrentData(json.data);\n      console.log(\"json\", json);\n    }).catch(err => console.log(\"err\", err));\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    console.log(event.target.name);\n    const email = userContext.user.email;\n    fetch(\"http://localhost:4000/restaurant/updatedata\", {\n      method: \"POST\",\n      // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\",\n      cache: \"no-cache\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: userContext.user.token\n      },\n      body: JSON.stringify({\n        email,\n        restaurantName,\n        restaurantAddress,\n        lunchTimeStart,\n        lunchTimeEnd,\n        soupPrice,\n        dishPrice,\n        setPrice,\n        setAndDrinkPrice,\n        websiteAddress\n      })\n    }).then(response => {\n      console.log(response.status);\n\n      if (response.status === 201) {\n        history.push(\"/restaurantprofile\");\n      }\n\n      return response.json();\n    }).then(json => {\n      setErrors(json);\n      return console.log(\"json\", json);\n    }).catch(err => console.log(\"err\", err));\n  }\n\n  const handleChange = event => {\n    // if (event.target.name === \"email\") setEmail(event.target.value);\n    // if (event.target.name === \"password\") setPassword(event.target.value);\n    // if (event.target.name === \"password_confirm\")\n    // setPasswordConfirm(event.target.value);\n    if (event.target.name === \"restaurant_name\") setRestaurantName(event.target.value);\n    if (event.target.name === \"restaurant_address\") setRestaurantAddress(event.target.value);\n    if (event.target.name === \"lunch_time_start\") setLunchTimeStart(event.target.value);\n    if (event.target.name === \"lunch_time_end\") setLunchTimeEnd(event.target.value);\n    if (event.target.name === \"soup_price\") setSoupPrice(event.target.value);\n    if (event.target.name === \"dish_price\") setDishPrice(event.target.value);\n    if (event.target.name === \"set_price\") setSetPrice(event.target.value);\n    if (event.target.name === \"set_and_drink_price\") setSetAndDrinkPrice(event.target.value);\n    if (event.target.name === \"website_address\") setWebsiteAddress(event.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.RestaurantRegister,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"restaurant_name\",\n    type: \"text\",\n    label: \"Restaurant name\",\n    variant: \"outlined\" // autoFocus='true'\n    ,\n    onChange: handleChange,\n    value: currentData.name,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"restaurant_address\",\n    type: \"text\",\n    label: \"Restaurant address\",\n    variant: \"outlined\" // autoFocus='true'\n    ,\n    onChange: handleChange,\n    value: currentData.address,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"lunch_time_start\",\n    type: \"text\",\n    label: \"Lunch time start\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    value: currentData.lunchStartTime,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"lunch_time_end\",\n    type: \"text\",\n    label: \"Lunch time end\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    value: currentData.lunchEndTime,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"website_address\",\n    type: \"url\",\n    label: \"Website address\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    autoFocus: \"true\",\n    value: currentData.websiteAddress,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.PricesContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"soup_price\",\n    type: \"text\",\n    label: \"Soup price\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"dish_price\",\n    type: \"text\",\n    label: \"Dish price\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }\n  }, !!errors.dishPrice && /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 17\n    }\n  }, errors.dishPrice)), /*#__PURE__*/React.createElement(TextField, {\n    name: \"set_price\",\n    type: \"text\",\n    label: \"Set price\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"set_and_drink_price\",\n    type: \"text\",\n    label: \"Set and drink price\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    classes: {\n      root: styles.button\n    },\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 11\n    }\n  }, \"Update restaurant's data\"))));\n}","map":{"version":3,"sources":["/Users/antonina/Files/INZYNIERKA/lunch_time_frontend/src/RestaurantUpdateDataPage/RestaurantUpdateData.js"],"names":["React","useState","useContext","useEffect","styles","useHistory","TextField","FormHelperText","Button","UserContext","RestaurantUpdateData","userContext","currentData","setCurrentData","errors","setErrors","email","setEmail","password","setPassword","passwordConfirm","setPasswordConfirm","restaurantName","setRestaurantName","restaurantAddress","setRestaurantAddress","lunchTimeStart","setLunchTimeStart","lunchTimeEnd","setLunchTimeEnd","soupPrice","setSoupPrice","dishPrice","setDishPrice","setPrice","setSetPrice","setAndDrinkPrice","setSetAndDrinkPrice","websiteAddress","setWebsiteAddress","history","fetchRestaurantProfileUpdate","fetch","user","method","mode","cache","headers","Authorization","token","then","response","console","log","status","json","data","catch","err","handleSubmit","event","preventDefault","target","name","body","JSON","stringify","push","handleChange","value","RestaurantRegister","container","root","CustomInput","errorContainer","error","address","lunchStartTime","lunchEndTime","PricesContainer","button"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport styles from \"./RestaurantUpdateData.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { FormHelperText } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport UserContext from \"../userContext\";\n\nexport default function RestaurantUpdateData() {\n  const userContext = useContext(UserContext);\n  const [currentData, setCurrentData] = useState({});\n\n  const [errors, setErrors] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\n  const [restaurantName, setRestaurantName] = useState(\"\");\n  const [restaurantAddress, setRestaurantAddress] = useState(\"\");\n  const [lunchTimeStart, setLunchTimeStart] = useState(\"\");\n  const [lunchTimeEnd, setLunchTimeEnd] = useState(\"\");\n  const [soupPrice, setSoupPrice] = useState();\n  const [dishPrice, setDishPrice] = useState();\n  const [setPrice, setSetPrice] = useState();\n  const [setAndDrinkPrice, setSetAndDrinkPrice] = useState();\n  const [websiteAddress, setWebsiteAddress] = useState(\"\");\n  const history = useHistory();\n\n  useEffect(() => {\n    fetchRestaurantProfileUpdate();\n  }, []);\n\n  const fetchRestaurantProfileUpdate = () => {\n    fetch(\n      \"http://localhost:4000/restaurant/startupdatedata\" +\n        `?email=${userContext.user.email}`,\n      {\n        method: \"GET\", // *GET, POST, PUT, DELETE, etc.\n        mode: \"cors\",\n        cache: \"no-cache\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: userContext.user.token,\n        },\n      }\n    )\n      .then((response) => {\n        console.log(response.status);\n        // if (response.status === 201) {\n        // history.push(\"/restaurantprofile\");}\n        return response.json();\n      })\n      .then((json) => {\n        setCurrentData(json.data);\n        console.log(\"json\", json);\n      })\n      .catch((err) => console.log(\"err\", err));\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    console.log(event.target.name);\n    const email = userContext.user.email;\n\n    fetch(\"http://localhost:4000/restaurant/updatedata\", {\n      method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\",\n      cache: \"no-cache\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: userContext.user.token,\n      },\n      body: JSON.stringify({\n        email,\n        restaurantName,\n        restaurantAddress,\n        lunchTimeStart,\n        lunchTimeEnd,\n        soupPrice,\n        dishPrice,\n        setPrice,\n        setAndDrinkPrice,\n        websiteAddress,\n      }),\n    })\n      .then((response) => {\n        console.log(response.status);\n        if (response.status === 201) {\n          history.push(\"/restaurantprofile\");\n        }\n        return response.json();\n      })\n      .then((json) => {\n        setErrors(json);\n        return console.log(\"json\", json);\n      })\n      .catch((err) => console.log(\"err\", err));\n  }\n\n  const handleChange = (event) => {\n    // if (event.target.name === \"email\") setEmail(event.target.value);\n    // if (event.target.name === \"password\") setPassword(event.target.value);\n    // if (event.target.name === \"password_confirm\")\n    // setPasswordConfirm(event.target.value);\n    if (event.target.name === \"restaurant_name\")\n      setRestaurantName(event.target.value);\n    if (event.target.name === \"restaurant_address\")\n      setRestaurantAddress(event.target.value);\n    if (event.target.name === \"lunch_time_start\")\n      setLunchTimeStart(event.target.value);\n    if (event.target.name === \"lunch_time_end\")\n      setLunchTimeEnd(event.target.value);\n    if (event.target.name === \"soup_price\") setSoupPrice(event.target.value);\n    if (event.target.name === \"dish_price\") setDishPrice(event.target.value);\n    if (event.target.name === \"set_price\") setSetPrice(event.target.value);\n    if (event.target.name === \"set_and_drink_price\")\n      setSetAndDrinkPrice(event.target.value);\n    if (event.target.name === \"website_address\")\n      setWebsiteAddress(event.target.value);\n  };\n\n  return (\n    <div className={styles.RestaurantRegister}>\n      <div className={styles.container}>\n        <form onSubmit={handleSubmit}>\n          <TextField\n            name=\"restaurant_name\"\n            type=\"text\"\n            label=\"Restaurant name\"\n            variant=\"outlined\"\n            // autoFocus='true'\n            onChange={handleChange}\n            value={currentData.name}\n            classes={{ root: styles.CustomInput }}\n          />\n          <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n          <TextField\n            name=\"restaurant_address\"\n            type=\"text\"\n            label=\"Restaurant address\"\n            variant=\"outlined\"\n            // autoFocus='true'\n            onChange={handleChange}\n            value={currentData.address}\n            classes={{ root: styles.CustomInput }}\n          />\n          <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n          <TextField\n            name=\"lunch_time_start\"\n            type=\"text\"\n            label=\"Lunch time start\"\n            variant=\"outlined\"\n            onChange={handleChange}\n            value={currentData.lunchStartTime}\n            classes={{ root: styles.CustomInput }}\n          />\n          <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n          <TextField\n            name=\"lunch_time_end\"\n            type=\"text\"\n            label=\"Lunch time end\"\n            variant=\"outlined\"\n            onChange={handleChange}\n            value={currentData.lunchEndTime}\n            classes={{ root: styles.CustomInput }}\n          />\n          <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n          <TextField\n            name=\"website_address\"\n            type=\"url\"\n            label=\"Website address\"\n            variant=\"outlined\"\n            onChange={handleChange}\n            autoFocus='true'\n            value={currentData.websiteAddress}\n            classes={{ root: styles.CustomInput }}\n          />\n          <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n          <div className={styles.PricesContainer}>\n            <TextField\n              name=\"soup_price\"\n              type=\"text\"\n              label=\"Soup price\"\n              variant=\"outlined\"\n              onChange={handleChange}\n              classes={{ root: styles.CustomInput }}\n            />\n            <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n            <TextField\n              name=\"dish_price\"\n              type=\"text\"\n              label=\"Dish price\"\n              variant=\"outlined\"\n              onChange={handleChange}\n              classes={{ root: styles.CustomInput }}\n            />\n            <div className={styles.errorContainer}>\n              {!!errors.dishPrice && (\n                <FormHelperText classes={{ root: styles.error }} error>\n                  {errors.dishPrice}\n                </FormHelperText>\n              )}\n            </div>\n            <TextField\n              name=\"set_price\"\n              type=\"text\"\n              label=\"Set price\"\n              variant=\"outlined\"\n              onChange={handleChange}\n              classes={{ root: styles.CustomInput }}\n            />\n            <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n            <TextField\n              name=\"set_and_drink_price\"\n              type=\"text\"\n              label=\"Set and drink price\"\n              variant=\"outlined\"\n              onChange={handleChange}\n              classes={{ root: styles.CustomInput }}\n            />\n            <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n          </div>\n          <Button\n            classes={{ root: styles.button }}\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n          >\n            Update restaurant's data\n          </Button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}