{"ast":null,"code":"var _jsxFileName = \"/Users/antonina/Files/INZYNIERKA/lunch_time_frontend/src/RestaurantUpdateDataPage/RestaurantUpdateData.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport styles from \"./RestaurantUpdateData.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { FormHelperText } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport UserContext from \"../userContext\";\nexport default function RestaurantUpdateData() {\n  const userContext = useContext(UserContext);\n  const [errors, setErrors] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\n  const [restaurantName, setRestaurantName] = useState(\"\");\n  const [restaurantAddress, setRestaurantAddress] = useState(\"\");\n  const [lunchTimeStart, setLunchTimeStart] = useState(\"\");\n  const [lunchTimeEnd, setLunchTimeEnd] = useState(\"\");\n  const [soupPrice, setSoupPrice] = useState();\n  const [dishPrice, setDishPrice] = useState();\n  const [setPrice, setSetPrice] = useState();\n  const [setAndDrinkPrice, setSetAndDrinkPrice] = useState();\n  const [websiteAddress, setWebsiteAddress] = useState(\"\");\n  const history = useHistory();\n  useEffect(() => {\n    fetchRestaurantProfileUpdate();\n  }, []);\n\n  const fetchRestaurantProfileUpdate = () => {\n    fetch(\"http://localhost:4000/restaurant/startupdatedata\" + `?email=${userContext.user.email}`, {\n      method: \"GET\",\n      // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\",\n      cache: \"no-cache\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: userContext.user.token\n      }\n    }).then(response => {\n      console.log(response.status); // if (response.status === 201) {\n      // history.push(\"/restaurantprofile\");}\n\n      return response.json();\n    }).then(json => {\n      setErrors(json);\n      return console.log(\"json\", json);\n    }).catch(err => console.log(\"err\", err));\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    console.log(event.target.name);\n    const email = userContext.user.email;\n    fetch(\"http://localhost:4000/restaurant/updatedata\", {\n      method: \"POST\",\n      // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\",\n      cache: \"no-cache\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: userContext.user.token\n      },\n      body: JSON.stringify({\n        email,\n        restaurantName,\n        restaurantAddress,\n        lunchTimeStart,\n        lunchTimeEnd,\n        soupPrice,\n        dishPrice,\n        setPrice,\n        setAndDrinkPrice,\n        websiteAddress\n      })\n    }).then(response => {\n      console.log(response.status);\n\n      if (response.status === 201) {\n        history.push(\"/restaurantprofile\");\n      }\n\n      return response.json();\n    }).then(json => {\n      setErrors(json);\n      return console.log(\"json\", json);\n    }).catch(err => console.log(\"err\", err));\n  }\n\n  const handleChange = event => {\n    // if (event.target.name === \"email\") setEmail(event.target.value);\n    // if (event.target.name === \"password\") setPassword(event.target.value);\n    // if (event.target.name === \"password_confirm\")\n    // setPasswordConfirm(event.target.value);\n    if (event.target.name === \"restaurant_name\") setRestaurantName(event.target.value);\n    if (event.target.name === \"restaurant_address\") setRestaurantAddress(event.target.value);\n    if (event.target.name === \"lunch_time_start\") setLunchTimeStart(event.target.value);\n    if (event.target.name === \"lunch_time_end\") setLunchTimeEnd(event.target.value);\n    if (event.target.name === \"soup_price\") setSoupPrice(event.target.value);\n    if (event.target.name === \"dish_price\") setDishPrice(event.target.value);\n    if (event.target.name === \"set_price\") setSetPrice(event.target.value);\n    if (event.target.name === \"set_and_drink_price\") setSetAndDrinkPrice(event.target.value);\n    if (event.target.name === \"website_address\") setWebsiteAddress(event.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.RestaurantRegister,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"restaurant_name\",\n    type: \"text\",\n    label: \"Restaurant name\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    value: \"VALUE\",\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"restaurant_address\",\n    type: \"text\",\n    label: \"Restaurant address\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"lunch_time_start\",\n    type: \"text\",\n    label: \"Lunch time start\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"lunch_time_end\",\n    type: \"text\",\n    label: \"Lunch time end\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"website_address\",\n    type: \"url\",\n    label: \"Website address\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.PricesContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"soup_price\",\n    type: \"text\",\n    label: \"Soup price\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"dish_price\",\n    type: \"text\",\n    label: \"Dish price\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  }, !!errors.dishPrice && /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }\n  }, errors.dishPrice)), /*#__PURE__*/React.createElement(TextField, {\n    name: \"set_price\",\n    type: \"text\",\n    label: \"Set price\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"set_and_drink_price\",\n    type: \"text\",\n    label: \"Set and drink price\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    classes: {\n      root: styles.button\n    },\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 11\n    }\n  }, \"Update restaurant's data\"))));\n}","map":{"version":3,"sources":["/Users/antonina/Files/INZYNIERKA/lunch_time_frontend/src/RestaurantUpdateDataPage/RestaurantUpdateData.js"],"names":["React","useState","useContext","useEffect","styles","useHistory","TextField","FormHelperText","Button","UserContext","RestaurantUpdateData","userContext","errors","setErrors","email","setEmail","password","setPassword","passwordConfirm","setPasswordConfirm","restaurantName","setRestaurantName","restaurantAddress","setRestaurantAddress","lunchTimeStart","setLunchTimeStart","lunchTimeEnd","setLunchTimeEnd","soupPrice","setSoupPrice","dishPrice","setDishPrice","setPrice","setSetPrice","setAndDrinkPrice","setSetAndDrinkPrice","websiteAddress","setWebsiteAddress","history","fetchRestaurantProfileUpdate","fetch","user","method","mode","cache","headers","Authorization","token","then","response","console","log","status","json","catch","err","handleSubmit","event","preventDefault","target","name","body","JSON","stringify","push","handleChange","value","RestaurantRegister","container","root","CustomInput","errorContainer","error","PricesContainer","button"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport styles from \"./RestaurantUpdateData.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { FormHelperText } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport UserContext from \"../userContext\";\n\nexport default function RestaurantUpdateData() {\n  const userContext = useContext(UserContext);\n  const [errors, setErrors] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\n  const [restaurantName, setRestaurantName] = useState(\"\");\n  const [restaurantAddress, setRestaurantAddress] = useState(\"\");\n  const [lunchTimeStart, setLunchTimeStart] = useState(\"\");\n  const [lunchTimeEnd, setLunchTimeEnd] = useState(\"\");\n  const [soupPrice, setSoupPrice] = useState();\n  const [dishPrice, setDishPrice] = useState();\n  const [setPrice, setSetPrice] = useState();\n  const [setAndDrinkPrice, setSetAndDrinkPrice] = useState();\n  const [websiteAddress, setWebsiteAddress] = useState(\"\");\n  const history = useHistory();\n\n  useEffect(() => {\n    fetchRestaurantProfileUpdate();\n  }, []);\n\n  const fetchRestaurantProfileUpdate = () => {\n    fetch(\n      \"http://localhost:4000/restaurant/startupdatedata\" +\n        `?email=${userContext.user.email}`,\n      {\n        method: \"GET\", // *GET, POST, PUT, DELETE, etc.\n        mode: \"cors\",\n        cache: \"no-cache\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: userContext.user.token,\n        },\n      }\n    )\n      .then((response) => {\n        console.log(response.status);\n        // if (response.status === 201) {\n        // history.push(\"/restaurantprofile\");}\n        return response.json();\n      })\n      .then((json) => {\n        setErrors(json);\n        return console.log(\"json\", json);\n      })\n      .catch((err) => console.log(\"err\", err));\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    console.log(event.target.name);\n    const email = userContext.user.email;\n\n    fetch(\"http://localhost:4000/restaurant/updatedata\", {\n      method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\",\n      cache: \"no-cache\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: userContext.user.token,\n      },\n      body: JSON.stringify({\n        email,\n        restaurantName,\n        restaurantAddress,\n        lunchTimeStart,\n        lunchTimeEnd,\n        soupPrice,\n        dishPrice,\n        setPrice,\n        setAndDrinkPrice,\n        websiteAddress,\n      }),\n    })\n      .then((response) => {\n        console.log(response.status);\n        if (response.status === 201) {\n          history.push(\"/restaurantprofile\");\n        }\n        return response.json();\n      })\n      .then((json) => {\n        setErrors(json);\n        return console.log(\"json\", json);\n      })\n      .catch((err) => console.log(\"err\", err));\n  }\n\n  const handleChange = (event) => {\n    // if (event.target.name === \"email\") setEmail(event.target.value);\n    // if (event.target.name === \"password\") setPassword(event.target.value);\n    // if (event.target.name === \"password_confirm\")\n    // setPasswordConfirm(event.target.value);\n    if (event.target.name === \"restaurant_name\")\n      setRestaurantName(event.target.value);\n    if (event.target.name === \"restaurant_address\")\n      setRestaurantAddress(event.target.value);\n    if (event.target.name === \"lunch_time_start\")\n      setLunchTimeStart(event.target.value);\n    if (event.target.name === \"lunch_time_end\")\n      setLunchTimeEnd(event.target.value);\n    if (event.target.name === \"soup_price\") setSoupPrice(event.target.value);\n    if (event.target.name === \"dish_price\") setDishPrice(event.target.value);\n    if (event.target.name === \"set_price\") setSetPrice(event.target.value);\n    if (event.target.name === \"set_and_drink_price\")\n      setSetAndDrinkPrice(event.target.value);\n    if (event.target.name === \"website_address\")\n      setWebsiteAddress(event.target.value);\n  };\n\n  return (\n    <div className={styles.RestaurantRegister}>\n      <div className={styles.container}>\n        <form onSubmit={handleSubmit}>\n          <TextField\n            name=\"restaurant_name\"\n            type=\"text\"\n            label=\"Restaurant name\"\n            variant=\"outlined\"\n            onChange={handleChange}\n            value=\"VALUE\"\n            classes={{ root: styles.CustomInput }}\n          />\n          <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n          <TextField\n            name=\"restaurant_address\"\n            type=\"text\"\n            label=\"Restaurant address\"\n            variant=\"outlined\"\n            onChange={handleChange}\n            classes={{ root: styles.CustomInput }}\n          />\n          <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n          <TextField\n            name=\"lunch_time_start\"\n            type=\"text\"\n            label=\"Lunch time start\"\n            variant=\"outlined\"\n            onChange={handleChange}\n            classes={{ root: styles.CustomInput }}\n          />\n          <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n          <TextField\n            name=\"lunch_time_end\"\n            type=\"text\"\n            label=\"Lunch time end\"\n            variant=\"outlined\"\n            onChange={handleChange}\n            classes={{ root: styles.CustomInput }}\n          />\n          <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n          <TextField\n            name=\"website_address\"\n            type=\"url\"\n            label=\"Website address\"\n            variant=\"outlined\"\n            onChange={handleChange}\n            classes={{ root: styles.CustomInput }}\n          />\n          <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n          <div className={styles.PricesContainer}>\n            <TextField\n              name=\"soup_price\"\n              type=\"text\"\n              label=\"Soup price\"\n              variant=\"outlined\"\n              onChange={handleChange}\n              classes={{ root: styles.CustomInput }}\n            />\n            <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n            <TextField\n              name=\"dish_price\"\n              type=\"text\"\n              label=\"Dish price\"\n              variant=\"outlined\"\n              onChange={handleChange}\n              classes={{ root: styles.CustomInput }}\n            />\n            <div className={styles.errorContainer}>\n              {!!errors.dishPrice && (\n                <FormHelperText classes={{ root: styles.error }} error>\n                  {errors.dishPrice}\n                </FormHelperText>\n              )}\n            </div>\n            <TextField\n              name=\"set_price\"\n              type=\"text\"\n              label=\"Set price\"\n              variant=\"outlined\"\n              onChange={handleChange}\n              classes={{ root: styles.CustomInput }}\n            />\n            <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n            <TextField\n              name=\"set_and_drink_price\"\n              type=\"text\"\n              label=\"Set and drink price\"\n              variant=\"outlined\"\n              onChange={handleChange}\n              classes={{ root: styles.CustomInput }}\n            />\n            <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n          </div>\n          <Button\n            classes={{ root: styles.button }}\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n          >\n            Update restaurant's data\n          </Button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}