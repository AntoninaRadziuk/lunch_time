{"ast":null,"code":"var _jsxFileName = \"/Users/antonina/Files/INZYNIERKA/lunch_time_frontend/src/RestaurantUpdateDataPage/RestaurantUpdateData.js\";\nimport React, { useState, useContext } from \"react\";\nimport styles from \"./RestaurantUpdateData.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { FormHelperText } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport UserContext from \"../userContext\";\nexport default function RestaurantUpdateData() {\n  const userContext = useContext(UserContext);\n  const [errors, setErrors] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\n  const [restaurantName, setRestaurantName] = useState(\"\");\n  const [restaurantAddress, setRestaurantAddress] = useState(\"\");\n  const [lunchTimeStart, setLunchTimeStart] = useState(\"\");\n  const [lunchTimeEnd, setLunchTimeEnd] = useState(\"\");\n  const [soupPrice, setSoupPrice] = useState();\n  const [dishPrice, setDishPrice] = useState();\n  const [setPrice, setSetPrice] = useState();\n  const [setAndDrinkPrice, setSetAndDrinkPrice] = useState();\n  const [websiteAddress, setWebsiteAddress] = useState(\"\");\n  const history = useHistory();\n  useEffect(() => {\n    fetchRestaurantProfileUpdate();\n  }, []);\n\n  const fetchRestaurantProfileUpdate = () => {\n    const email = userContext.user.email;\n    fetch(\"http://localhost:4000/restaurant/startupdatedata\" + `?email=${userContext.user.email}`, {\n      method: \"GET\",\n      // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\",\n      cache: \"no-cache\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: userContext.user.token\n      }\n    }).then(response => {\n      console.log(response.status); // if (response.status === 201) {\n      // history.push(\"/restaurantprofile\");}\n\n      return response.json();\n    }).then(json => {\n      setErrors(json);\n      return console.log(\"json\", json);\n    }).catch(err => console.log(\"err\", err));\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    console.log(event.target.name);\n    const email = userContext.user.email;\n    fetch(\"http://localhost:4000/restaurant/updatedata\", {\n      method: \"POST\",\n      // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\",\n      cache: \"no-cache\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: userContext.user.token\n      },\n      body: JSON.stringify({\n        email,\n        restaurantName,\n        restaurantAddress,\n        lunchTimeStart,\n        lunchTimeEnd,\n        soupPrice,\n        dishPrice,\n        setPrice,\n        setAndDrinkPrice,\n        websiteAddress\n      })\n    }).then(response => {\n      console.log(response.status);\n\n      if (response.status === 201) {\n        history.push(\"/restaurantprofile\");\n      }\n\n      return response.json();\n    }).then(json => {\n      setErrors(json);\n      return console.log(\"json\", json);\n    }).catch(err => console.log(\"err\", err));\n  }\n\n  const handleChange = event => {\n    // if (event.target.name === \"email\") setEmail(event.target.value);\n    // if (event.target.name === \"password\") setPassword(event.target.value);\n    // if (event.target.name === \"password_confirm\")\n    // setPasswordConfirm(event.target.value);\n    if (event.target.name === \"restaurant_name\") setRestaurantName(event.target.value);\n    if (event.target.name === \"restaurant_address\") setRestaurantAddress(event.target.value);\n    if (event.target.name === \"lunch_time_start\") setLunchTimeStart(event.target.value);\n    if (event.target.name === \"lunch_time_end\") setLunchTimeEnd(event.target.value);\n    if (event.target.name === \"soup_price\") setSoupPrice(event.target.value);\n    if (event.target.name === \"dish_price\") setDishPrice(event.target.value);\n    if (event.target.name === \"set_price\") setSetPrice(event.target.value);\n    if (event.target.name === \"set_and_drink_price\") setSetAndDrinkPrice(event.target.value);\n    if (event.target.name === \"website_address\") setWebsiteAddress(event.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.RestaurantRegister,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"restaurant_name\",\n    type: \"text\",\n    label: \"Restaurant name\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    value: \"VALUE\",\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, !!errors.restaurantName && /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, errors.restaurantName)), /*#__PURE__*/React.createElement(TextField, {\n    name: \"restaurant_address\",\n    type: \"text\",\n    label: \"Restaurant address\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, !!errors.restaurantAddress && /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, errors.restaurantAddress)), /*#__PURE__*/React.createElement(TextField, {\n    name: \"lunch_time_start\",\n    type: \"text\",\n    label: \"Lunch time start\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, !!errors.lunchTimeStart && /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 15\n    }\n  }, errors.lunchTimeStart)), /*#__PURE__*/React.createElement(TextField, {\n    name: \"lunch_time_end\",\n    type: \"text\",\n    label: \"Lunch time end\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }, !!errors.lunchTimeEnd && /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }, errors.lunchTimeEnd)), /*#__PURE__*/React.createElement(TextField, {\n    name: \"website_address\",\n    type: \"url\",\n    label: \"Website address\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.PricesContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"soup_price\",\n    type: \"text\",\n    label: \"Soup price\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"dish_price\",\n    type: \"text\",\n    label: \"Dish price\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }\n  }, !!errors.dishPrice && /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 17\n    }\n  }, errors.dishPrice)), /*#__PURE__*/React.createElement(TextField, {\n    name: \"set_price\",\n    type: \"text\",\n    label: \"Set price\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"set_and_drink_price\",\n    type: \"text\",\n    label: \"Set and drink price\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    classes: {\n      root: styles.CustomInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormHelperText, {\n    classes: {\n      root: styles.error\n    },\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    classes: {\n      root: styles.button\n    },\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 11\n    }\n  }, \"Update restaurant's data\"))));\n}","map":{"version":3,"sources":["/Users/antonina/Files/INZYNIERKA/lunch_time_frontend/src/RestaurantUpdateDataPage/RestaurantUpdateData.js"],"names":["React","useState","useContext","styles","useHistory","TextField","FormHelperText","Button","UserContext","RestaurantUpdateData","userContext","errors","setErrors","email","setEmail","password","setPassword","passwordConfirm","setPasswordConfirm","restaurantName","setRestaurantName","restaurantAddress","setRestaurantAddress","lunchTimeStart","setLunchTimeStart","lunchTimeEnd","setLunchTimeEnd","soupPrice","setSoupPrice","dishPrice","setDishPrice","setPrice","setSetPrice","setAndDrinkPrice","setSetAndDrinkPrice","websiteAddress","setWebsiteAddress","history","useEffect","fetchRestaurantProfileUpdate","user","fetch","method","mode","cache","headers","Authorization","token","then","response","console","log","status","json","catch","err","handleSubmit","event","preventDefault","target","name","body","JSON","stringify","push","handleChange","value","RestaurantRegister","container","root","CustomInput","errorContainer","error","PricesContainer","button"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport styles from \"./RestaurantUpdateData.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { FormHelperText } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport UserContext from \"../userContext\";\n\nexport default function RestaurantUpdateData() {\n  const userContext = useContext(UserContext);\n  const [errors, setErrors] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\n  const [restaurantName, setRestaurantName] = useState(\"\");\n  const [restaurantAddress, setRestaurantAddress] = useState(\"\");\n  const [lunchTimeStart, setLunchTimeStart] = useState(\"\");\n  const [lunchTimeEnd, setLunchTimeEnd] = useState(\"\");\n  const [soupPrice, setSoupPrice] = useState();\n  const [dishPrice, setDishPrice] = useState();\n  const [setPrice, setSetPrice] = useState();\n  const [setAndDrinkPrice, setSetAndDrinkPrice] = useState();\n  const [websiteAddress, setWebsiteAddress] = useState(\"\");\n  const history = useHistory();\n\n\n  useEffect(() => {\n    fetchRestaurantProfileUpdate();\n  }, []);\n\n  const fetchRestaurantProfileUpdate = () => {\n    const email = userContext.user.email;\n    fetch(\"http://localhost:4000/restaurant/startupdatedata\"+\n    `?email=${userContext.user.email}`, {\n      method: \"GET\", // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\",\n      cache: \"no-cache\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: userContext.user.token,\n      },\n    })\n      .then((response) => {\n        console.log(response.status);\n        // if (response.status === 201) {\n          // history.push(\"/restaurantprofile\");}\n        return response.json();\n      })\n      .then((json) => {\n        setErrors(json);\n        return console.log(\"json\", json);\n      })\n      .catch((err) => console.log(\"err\", err));\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    console.log(event.target.name);\n    const email = userContext.user.email;\n\n    fetch(\"http://localhost:4000/restaurant/updatedata\", {\n      method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\",\n      cache: \"no-cache\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: userContext.user.token,\n      },\n      body: JSON.stringify({\n        email,\n        restaurantName,\n        restaurantAddress,\n        lunchTimeStart,\n        lunchTimeEnd,\n        soupPrice,\n        dishPrice,\n        setPrice,\n        setAndDrinkPrice,\n        websiteAddress,\n      }),\n    })\n      .then((response) => {\n        console.log(response.status);\n        if (response.status === 201) {\n          history.push(\"/restaurantprofile\");\n        }\n        return response.json();\n      })\n      .then((json) => {\n        setErrors(json);\n        return console.log(\"json\", json);\n      })\n      .catch((err) => console.log(\"err\", err));\n  }\n\n  const handleChange = (event) => {\n    // if (event.target.name === \"email\") setEmail(event.target.value);\n    // if (event.target.name === \"password\") setPassword(event.target.value);\n    // if (event.target.name === \"password_confirm\")\n    // setPasswordConfirm(event.target.value);\n    if (event.target.name === \"restaurant_name\")\n      setRestaurantName(event.target.value);\n    if (event.target.name === \"restaurant_address\")\n      setRestaurantAddress(event.target.value);\n    if (event.target.name === \"lunch_time_start\")\n      setLunchTimeStart(event.target.value);\n    if (event.target.name === \"lunch_time_end\")\n      setLunchTimeEnd(event.target.value);\n    if (event.target.name === \"soup_price\") setSoupPrice(event.target.value);\n    if (event.target.name === \"dish_price\") setDishPrice(event.target.value);\n    if (event.target.name === \"set_price\") setSetPrice(event.target.value);\n    if (event.target.name === \"set_and_drink_price\")\n      setSetAndDrinkPrice(event.target.value);\n    if (event.target.name === \"website_address\")\n      setWebsiteAddress(event.target.value);\n  };\n\n  return (\n    <div className={styles.RestaurantRegister}>\n      <div className={styles.container}>\n        <form onSubmit={handleSubmit}>\n          <TextField\n            name=\"restaurant_name\"\n            type=\"text\"\n            label=\"Restaurant name\"\n            variant=\"outlined\"\n            onChange={handleChange}\n            value=\"VALUE\"\n            classes={{ root: styles.CustomInput }}\n          />\n          <div className={styles.errorContainer}>\n            {!!errors.restaurantName && (\n              <FormHelperText classes={{ root: styles.error }} error>\n                {errors.restaurantName}\n              </FormHelperText>\n            )}\n          </div>\n          <TextField\n            name=\"restaurant_address\"\n            type=\"text\"\n            label=\"Restaurant address\"\n            variant=\"outlined\"\n            onChange={handleChange}\n            classes={{ root: styles.CustomInput }}\n          />\n          <div className={styles.errorContainer}>\n            {!!errors.restaurantAddress && (\n              <FormHelperText classes={{ root: styles.error }} error>\n                {errors.restaurantAddress}\n              </FormHelperText>\n            )}\n          </div>\n          <TextField\n            name=\"lunch_time_start\"\n            type=\"text\"\n            label=\"Lunch time start\"\n            variant=\"outlined\"\n            onChange={handleChange}\n            classes={{ root: styles.CustomInput }}\n          />\n          <div className={styles.errorContainer}>\n            {!!errors.lunchTimeStart && (\n              <FormHelperText classes={{ root: styles.error }} error>\n                {errors.lunchTimeStart}\n              </FormHelperText>\n            )}\n          </div>\n          <TextField\n            name=\"lunch_time_end\"\n            type=\"text\"\n            label=\"Lunch time end\"\n            variant=\"outlined\"\n            onChange={handleChange}\n            classes={{ root: styles.CustomInput }}\n          />\n          <div className={styles.errorContainer}>\n            {!!errors.lunchTimeEnd && (\n              <FormHelperText classes={{ root: styles.error }} error>\n                {errors.lunchTimeEnd}\n              </FormHelperText>\n            )}\n          </div>\n          <TextField\n            name=\"website_address\"\n            type=\"url\"\n            label=\"Website address\"\n            variant=\"outlined\"\n            onChange={handleChange}\n            classes={{ root: styles.CustomInput }}\n          />\n          <div className={styles.errorContainer}>\n            {/* {!!error && ( */}\n            <FormHelperText classes={{ root: styles.error }} error>\n              {/* {error} */}\n            </FormHelperText>\n          </div>\n          <div className={styles.PricesContainer}>\n            <TextField\n              name=\"soup_price\"\n              type=\"text\"\n              label=\"Soup price\"\n              variant=\"outlined\"\n              onChange={handleChange}\n              classes={{ root: styles.CustomInput }}\n            />\n            <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n            <TextField\n              name=\"dish_price\"\n              type=\"text\"\n              label=\"Dish price\"\n              variant=\"outlined\"\n              onChange={handleChange}\n              classes={{ root: styles.CustomInput }}\n            />\n            <div className={styles.errorContainer}>\n              {!!errors.dishPrice && (\n                <FormHelperText classes={{ root: styles.error }} error>\n                  {errors.dishPrice}\n                </FormHelperText>\n              )}\n            </div>\n            <TextField\n              name=\"set_price\"\n              type=\"text\"\n              label=\"Set price\"\n              variant=\"outlined\"\n              onChange={handleChange}\n              classes={{ root: styles.CustomInput }}\n            />\n            <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n            <TextField\n              name=\"set_and_drink_price\"\n              type=\"text\"\n              label=\"Set and drink price\"\n              variant=\"outlined\"\n              onChange={handleChange}\n              classes={{ root: styles.CustomInput }}\n            />\n            <div className={styles.errorContainer}>\n              {/* {!!error && ( */}\n              <FormHelperText classes={{ root: styles.error }} error>\n                {/* {error} */}\n              </FormHelperText>\n            </div>\n          </div>\n          <Button\n            classes={{ root: styles.button }}\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n          >\n            Update restaurant's data\n          </Button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}